<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Chat</ion-title>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>

  <ion-toolbar>
    <ion-grid>
      <ion-row>
        <ion-col size="3">
          <ion-item lines="none">
            <ion-label>Login</ion-label>
          </ion-item>
        </ion-col>
        <ion-col size="7">
          <ion-item lines="none">
            <ion-input type="text" [(ngModel)]="nickname" placeholder="Enter a nickname" (keyup.enter)="joinChat()"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col size="2">
          <ion-button expand="block" (click)="joinChat()" [disabled]="(!nickname || nickname == '')">OK</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-header>


<ion-content>

  <ion-item *ngIf="error">
    <ion-label>Error</ion-label>
    {{error.message}}
  </ion-item>

  <ion-item *ngFor="let msg of chatMsgs">
    <ion-label>{{msg.from}}</ion-label>
    {{msg.content}}
  </ion-item>

  <div style="height:10%;background-color:transparent;"></div>

</ion-content>

<ion-footer style="height:7%;">
  <div style="height:2px; width:100%;background-color:blue;"></div>
  <ion-row>
    <ion-col size="9">
      <ion-input type="text" [(ngModel)]="chatMessage" placeholder="Enter a message" (keyup.enter)="sendMessage()"></ion-input>
    </ion-col>
    <ion-col size="3">
      <ion-button expand="block" (click)="sendMessage()" [disabled]="(!nickname || nickname == '' || !chatMessage || chatMessage == '')">Send</ion-button>
    </ion-col>
  </ion-row>
</ion-footer>
